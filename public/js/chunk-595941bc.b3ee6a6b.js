(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-595941bc"],{"16d7":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{staticClass:"row searchingLocal"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("Local:")]),a("b-form-input",{attrs:{list:"my-list-id",placeholder:"Local"},on:{keyup:function(t){return e.filtroLocal()}},model:{value:e.localSearch,callback:function(t){e.localSearch=t},expression:"localSearch"}}),a("datalist",{attrs:{id:"my-list-id"}},e._l(e.list.localAmountToShow,(function(t){return a("option",[e._v(e._s(t))])})),0),a("b-button",{attrs:{variant:"outline-primary mt-3"},on:{click:function(t){return e.goToLocalProgramming(e.localSearch)}}},[e._v("Elegir local")]),a("b-button",{attrs:{variant:"outline-primary mt-3 btnProgamacionesLocalExcel"},on:{click:function(t){return e.generateExcelOfAllProgrammingByLocal()}}},[e._v("Programaciones por local | Excel")])],1),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v(" "+e._s(e.localSelected?"Local seleccionado: "+e.localSelected:"No tienes un local seleccionado")+" ")]),e.localSearch?a("b",{staticClass:"mt-3",staticStyle:{display:"block"}},[e._v("Se traera todas las programaciones del "),a("u",[e._v(e._s(e.localSearch))]),e._v(" como local.")]):a("h6",{staticClass:"mt-3"},[e._v("Elige un local :D")])])]),a("hr"),a("div",{},[a("router-view",{attrs:{localSelectedProp:e.localSelected}})],1)])},l=[],c=(a("caad"),a("d3b7"),a("2532"),a("3ca3"),a("ddb0"),a("2b3d"),a("96cf"),a("1da1")),r={name:"",data:function(){return{system:{loading:!0,error:!1},localSearch:"",localSelected:"",list:{amountToShow:5,local:[],localAmountToShow:[]}}},methods:{goToLocalProgramming:function(e){e!=this.localSelected?(this.localSelected=e,console.log("diferente"),this.$router.push({name:"Prog.Local",params:{local:e}}).catch((function(){}))):console.log("iguales")},filtroLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,o,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.list.localAmountToShow=[],e.localSearch)for(a=0,o=0;o<e.list.local.length;o++)a<e.list.amountToShow&&e.list.local[o].includes(e.localSearch)&&(e.list.localAmountToShow.push(e.list.local[o]),a++);else for(l=0;l<e.list.amountToShow;l++)e.list.localAmountToShow.push(e.list.local[l]);case 2:case"end":return t.stop()}}),t)})))()},generateExcelOfAllProgrammingByLocal:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,o,l,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,a=(new Date).getFullYear(),t.next=4,e.axios.get("/programmingLists/".concat(a),{responseType:"blob",headers:{Accept:"application/octet-stream"}});case 4:o=t.sent,o.headers["x-processed-filename"],l=window.URL.createObjectURL(new Blob([o.data])),c=document.createElement("a"),c.href=l,c.setAttribute("download","ANDE_Informe_Programaciones.xlsx"),document.body.appendChild(c),c.click(),c.remove(),t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}},mounted:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.axios.post("/locales");case 2:if(a=t.sent,a.data.codigo.includes("Error")){t.next=10;break}return t.next=6,a.data.respuesta;case 6:for(e.list.local=t.sent,o=0;o<e.list.amountToShow;o++)e.list.localAmountToShow.push(e.list.local[o]);t.next=12;break;case 10:e.system.error=!0,console.log(a.data.respuesta);case 12:case"end":return t.stop()}}),t)})))()},created:function(){this.localSearch=this.$route.params.local?this.$route.params.local:"",this.localSelected=this.$route.params.local?this.$route.params.local:""},destroyed:function(){}},n=r,s=(a("d0f3"),a("2877")),i=Object(s["a"])(n,o,l,!1,null,null,null);t["default"]=i.exports},4239:function(e,t,a){},d0f3:function(e,t,a){"use strict";a("4239")}}]);
//# sourceMappingURL=chunk-595941bc.b3ee6a6b.js.map