(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cdcafb2a"],{2532:function(e,t,a){"use strict";var r=a("23e7"),s=a("5a34"),o=a("1d80"),n=a("ab13");r({target:"String",proto:!0,forced:!n("includes")},{includes:function(e){return!!~String(o(this)).indexOf(s(e),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,a){"use strict";var r=a("6eeb"),s=a("825a"),o=a("d039"),n=a("ad6d"),l="toString",i=RegExp.prototype,c=i[l],u=o((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),m=c.name!=l;(u||m)&&r(RegExp.prototype,l,(function(){var e=s(this),t=String(e.source),a=e.flags,r=String(void 0===a&&e instanceof RegExp&&!("flags"in i)?n.call(e):a);return"/"+t+"/"+r}),{unsafe:!0})},2980:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[e.system.loading?a("div",[a("loading")],1):e.system.error?a("div",[a("error")],1):a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-md-9"},[a("div",[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("LOCAL:")]),a("b-form-input",{attrs:{list:"my-list-id",disabled:e.system.updated,placeholder:"LOCAL"},on:{keyup:function(t){return e.filtro()}},model:{value:e.reclamo.LOCAL,callback:function(t){e.$set(e.reclamo,"LOCAL",t)},expression:"reclamo.LOCAL"}}),a("datalist",{attrs:{id:"my-list-id"}},e._l(e.list.localesSubConjunto,(function(t){return a("option",[e._v(e._s(t))])})),0),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("OTRADEP:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.OTRADEP,expression:"reclamo.OTRADEP"}],staticClass:"form-control",attrs:{type:"text",disabled:e.system.updated,placeholder:"OTRADEP"},domProps:{value:e.reclamo.OTRADEP},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"OTRADEP",t.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("NROOTRADE:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.NROOTRADE,expression:"reclamo.NROOTRADE"}],staticClass:"form-control",attrs:{type:"number",disabled:e.system.updated,placeholder:"NROOTRADE"},domProps:{value:e.reclamo.NROOTRADE},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"NROOTRADE",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("DMED:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.DMED,expression:"reclamo.DMED"}],staticClass:"form-control",attrs:{type:"text",disabled:e.system.updated,placeholder:"DMED"},domProps:{value:e.reclamo.DMED},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"DMED",t.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("DMEDNRO:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.DMEDNRO,expression:"reclamo.DMEDNRO"}],staticClass:"form-control",attrs:{type:"number",disabled:e.system.updated,placeholder:"DMEDNRO"},domProps:{value:e.reclamo.DMEDNRO},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"DMEDNRO",t.target.value)}}})])]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("FECHATRASM:")]),a("b-calendar",{attrs:{disabled:e.system.updated,block:"",locale:"es-ES"},model:{value:e.reclamo.FECHATRASM,callback:function(t){e.$set(e.reclamo,"FECHATRASM",t)},expression:"reclamo.FECHATRASM"}})],1),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("HORATRASM:")]),a("b-form-timepicker",{attrs:{disabled:e.system.updated,"show-seconds":"",locale:"es"},model:{value:e.reclamo.HORATRASM,callback:function(t){e.$set(e.reclamo,"HORATRASM",t)},expression:"reclamo.HORATRASM"}})],1)]),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("TRASMPOR:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.TRASMPOR,expression:"reclamo.TRASMPOR"}],staticClass:"form-control",attrs:{type:"text",disabled:e.system.updated,placeholder:"TRASMPOR"},domProps:{value:e.reclamo.TRASMPOR},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"TRASMPOR",t.target.value)}}})]),a("div",{staticClass:"col-md-6"},[a("label",{staticClass:"mt-3",attrs:{for:""}},[e._v("RECIBPOR:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.RECIBPOR,expression:"reclamo.RECIBPOR"}],staticClass:"form-control",attrs:{type:"text",disabled:e.system.updated,placeholder:"RECIBPOR"},domProps:{value:e.reclamo.RECIBPOR},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"RECIBPOR",t.target.value)}}})])]),a("hr"),a("label",{attrs:{for:"exampleFormControlTextarea1"}},[e._v("RECLAMO:")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.reclamo.RECLAMO,expression:"reclamo.RECLAMO"}],staticClass:"form-control",attrs:{type:"text",id:"exampleFormControlTextarea1",disabled:e.system.updated,placeholder:"RECLAMO",rows:"5"},domProps:{value:e.reclamo.RECLAMO},on:{input:function(t){t.target.composing||e.$set(e.reclamo,"RECLAMO",t.target.value)}}}),a("hr"),a("div",{staticClass:"container mt-4"},[a("div",{staticClass:"container"},[a("div",{staticClass:"container"},[this.system.isAdd?a("div",[a("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:function(t){return e.actionReclamo()}}},[e._v("Agregar")])]):a("div",[e.system.updated?e._e():a("button",{staticClass:"btn btn-outline-primary btn-block",on:{click:function(t){return e.actionReclamo()}}},[e._v("Editar")]),e.system.updated?a("button",{staticClass:"btn btn-outline-success btn-block",on:{click:function(t){return e.redirectReclamo()}}},[e._v("Volver")]):e._e()])])])])],1)]),a("div",{staticClass:"col-md-3"},[e.system.updated?e._e():a("div",{staticClass:"bg-light p-4"},[a("b-form-checkbox",{attrs:{id:"checkbox-1",name:"checkbox-1",value:!0,"unchecked-value":!1},on:{input:e.agregarUltimoNumero},model:{value:e.selectUltimoNro,callback:function(t){e.selectUltimoNro=t},expression:"selectUltimoNro"}},[e._v(" Último número ")])],1),e.mensaje.visible?a("div",{staticClass:"alert alert-dismissible mt-4",class:e.mensaje.color},[a("button",{staticClass:"close",attrs:{type:"button"},on:{click:function(t){return e.alternarAlertaVisible(!1)}}},[e._v("×")]),a("h6",{staticClass:"mt-2"},[e._v(e._s(e.mensaje.titulo))]),a("hr"),e._v(" "+e._s(e.mensaje.msg)+" "),a("hr"),e._v(" Agregado: "),a("ul",e._l(e.mensaje.lista,(function(t,r){return a("li",{key:r},[e._v(" "+e._s(t)+" ")])})),0),a("hr"),a("router-link",{staticClass:"alert-link",attrs:{to:"/"}},[e._v("Reclamos ANDE")]),e._v(". ")],1):e._e()])]),a("hr",{staticClass:"mt-5"})])},s=[],o=(a("99af"),a("caad"),a("d3b7"),a("25f0"),a("2532"),a("498a"),a("96cf"),a("1da1")),n=a("3a5e"),l=a("3fb9"),i={name:"editPD",components:{loading:n["a"],error:l["a"]},data:function(){return{system:{loading:!0,error:!1,updated:!1,isAdd:!0,nroprog:null},ultnro:-1,selectUltimoNro:!1,nroAct:0,params:{DMEDNRO:this.$route.params.dmednro,DIA:this.$route.params.dia,MES:this.$route.params.mes,ANHO:this.$route.params.anho},reclamo:{LOCAL:null,OTRADEP:null,NROOTRADE:null,DMEDNRO:null,DMED:null,HORATRASM:null,FECHATRASM:null,TRASMPOR:null,RECIBPOR:null,RECLAMO:null},mensaje:{visible:!1,color:"",titulo:"",msg:"",lista:[]},list:{cantidadMostrar:5,locales:[],localesSubConjunto:[]}}},methods:{agregarUltimoNumero:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.selectUltimoNro?(e.system.nroprog=e.reclamo.DMEDNRO,e.reclamo.DMEDNRO=e.ultnro):e.reclamo.DMEDNRO=e.system.nroprog}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})))()},filtro:function(){if(this.list.localesSubConjunto=[],""!=this.reclamo.LOCAL)for(var e=0,t=0;t<this.list.locales.length;t++)e<this.list.cantidadMostrar&&this.list.locales[t].includes(this.reclamo.LOCAL)&&(this.list.localesSubConjunto.push(this.list.locales[t]),e++);else for(var a=0;a<this.list.cantidadMostrar;a++)this.list.localesSubConjunto.push(this.list.locales[a])},actionReclamo:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.system.loading=!0,a=JSON.parse(JSON.stringify(e.reclamo)),a=e.trimAndConversion(a),console.log("reclamo",a),!a.DMEDNRO||!a.FECHATRASM){t.next=47;break}if(!(e.verificacionDeCaracteres(a.LOCAL)&&e.verificacionDeCaracteres(a.NROOTRADE)&&e.verificacionDeCaracteres(a.DMEDNRO))){t.next=40;break}if(e.mensaje.lista=[],e.system.isAdd){t.next=24;break}return t.prev=8,t.next=11,e.axios.put("/reclamoUpdate/".concat(e.params.DMEDNRO,"/").concat(e.params.DIA,"/").concat(e.params.MES,"/").concat(e.params.ANHO),{reclamo:a});case 11:r=t.sent,console.log(r),r.data.codigo.includes("Error")?(e.alternarAlertaVisible(!0),e.mensaje.color="alert-danger",e.mensaje.titulo="No se a modificado el reclamo",e.mensaje.msg=r.data.mensaje):(s=JSON.parse(r.config.data),e.mensaje.color="alert-success",e.mensaje.titulo="Reclamo modificado",e.mensaje.msg=r.data.mensaje,e.mensaje.lista.push(s.reclamo.DMEDNRO),e.mensaje.lista.push(s.reclamo.FECHATRASM),e.alternarAlertaVisible(!0),e.system.updated=!0),t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](8),e.system.error=!0;case 19:return t.prev=19,e.system.loading=!1,t.finish(19);case 22:t.next=38;break;case 24:return t.prev=24,t.next=27,e.axios.post("/reclamoAdd",{reclamo:a});case 27:o=t.sent,console.log(o),o.data.codigo.includes("Error")?(e.alternarAlertaVisible(!0),e.mensaje.color="alert-danger",e.mensaje.titulo="No se agrego el reclamo",e.mensaje.msg=o.data.mensaje):(n=JSON.parse(o.config.data),e.mensaje.color="alert-success",e.mensaje.titulo="Nuevo reclamo",e.mensaje.msg=o.data.mensaje,e.mensaje.lista.push(n.reclamo.DMEDNRO),e.mensaje.lista.push(n.reclamo.FECHATRASM),e.alternarAlertaVisible(!0),e.reclamo={LOCAL:null,OTRADEP:null,NROOTRADE:null,DMEDNRO:null,DMED:null,HORATRASM:null,FECHATRASM:null,TRASMPOR:null,RECIBPOR:null,RECLAMO:null}),t.next=35;break;case 32:t.prev=32,t.t1=t["catch"](24),e.system.error=!0;case 35:return t.prev=35,e.system.loading=!1,t.finish(35);case 38:t.next=45;break;case 40:e.system.loading=!1,e.alternarAlertaVisible(!0),e.mensaje.color="alert-danger",e.mensaje.titulo="Hubo un problema",e.mensaje.msg="No puede agregar datos con / \\.\nFavor usar -";case 45:t.next=52;break;case 47:e.system.loading=!1,e.alternarAlertaVisible(!0),e.mensaje.color="alert-danger",e.mensaje.titulo="Hubo un problema",e.mensaje.msg="Debe agregar un número de reclamo y una fecha trasmitida.";case 52:case"end":return t.stop()}}),t,null,[[8,16,19,22],[24,32,35,38]])})))()},redirectReclamo:function(){this.$router.push("/reclamos")},alternarAlertaVisible:function(e){this.mensaje.visible=e},verificacionDeCaracteres:function(e){return!e||!e.toString().includes("/")&&!e.toString().includes("\\")},trimAndConversion:function(e){var t=JSON.parse(JSON.stringify(e));return t.LOCAL=t.LOCAL?this.trim(t.LOCAL):null,t.OTRADEP=t.OTRADEP?this.trim(t.OTRADEP):null,t.NROOTRADE=t.NROOTRADE?parseInt(this.trim(t.NROOTRADE)):null,t.DMEDNRO=t.DMEDNRO?parseInt(this.trim(t.DMEDNRO)):null,t.DMED=t.DMED?this.trim(t.DMED):null,t.HORATRASM=t.HORATRASM?this.trim(t.HORATRASM):null,t.FECHATRASM=t.FECHATRASM?this.trim(t.FECHATRASM):null,t.TRASMPOR=t.TRASMPOR?this.trim(t.TRASMPOR):null,t.RECIBPOR=t.RECIBPOR?this.trim(t.RECIBPOR):null,t.RECLAMO=t.RECLAMO?this.trim(t.RECLAMO):null,t},trim:function(e){return e.toString().trim()}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,r,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.system.isAdd=!e.$route.params.dmednro,t.next=4,e.axios.post("/general/ultimoNumero");case 4:return a=t.sent,e.ultnro=a.data.ultimoNumero+1,console.log("ultnro",a),t.next=9,e.axios.post("/locales");case 9:if(r=t.sent,r.data.codigo.includes("Error")){t.next=17;break}return t.next=13,r.data.respuesta;case 13:for(e.list.locales=t.sent,s=0;s<e.list.cantidadMostrar;s++)e.list.localesSubConjunto.push(e.list.locales[s]);t.next=19;break;case 17:console.log("localesDB.data",r.data),e.system.error=!0;case 19:if(e.system.isAdd){t.next=24;break}return t.next=22,e.axios.post("/reclamoOne/".concat(e.params.DMEDNRO,"/").concat(e.params.DIA,"/").concat(e.params.MES,"/").concat(e.params.ANHO));case 22:o=t.sent,o.data.codigo.includes("Error")?e.system.error=!0:(e.reclamo=o.data.respuesta[0],e.reclamo.FECHATRASM=e.reclamo.FECHATRASM.substring(0,10),e.system.nroprog=parseInt(e.reclamo.DMEDNRO));case 24:t.next=30;break;case 26:t.prev=26,t.t0=t["catch"](0),e.system.error=!0,console.log("error",t.t0);case 30:return t.prev=30,e.system.loading=!1,t.finish(30);case 33:case"end":return t.stop()}}),t,null,[[0,26,30,33]])})))()},updated:function(){},computed:{}},c=i,u=a("2877"),m=Object(u["a"])(c,r,s,!1,null,null,null);t["default"]=m.exports},"3a5e":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"text-center",staticStyle:{"margin-top":"40vh"}},[a("b-spinner",{attrs:{variant:"primary",label:"Text Centered"}})],1)},s=[],o={name:"loading"},n=o,l=a("2877"),i=Object(l["a"])(n,r,s,!1,null,null,null);t["a"]=i.exports},"3fb9":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"posicion"},[a("h2",[e._v("HUBO UN PROBLEMA...")])])}],o={name:"errores",props:{codigo:String,titulo:String,mensaje:String,direccionPrincipal:String}},n=o,l=(a("6e65"),a("2877")),i=Object(l["a"])(n,r,s,!1,null,"41481506",null);t["a"]=i.exports},"44e7":function(e,t,a){var r=a("861d"),s=a("c6b6"),o=a("b622"),n=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==s(e))}},"498a":function(e,t,a){"use strict";var r=a("23e7"),s=a("58a8").trim,o=a("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return s(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var r=a("1d80"),s=a("5899"),o="["+s+"]",n=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),i=function(e){return function(t){var a=String(r(t));return 1&e&&(a=a.replace(n,"")),2&e&&(a=a.replace(l,"")),a}};e.exports={start:i(1),end:i(2),trim:i(3)}},"5a34":function(e,t,a){var r=a("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"6e65":function(e,t,a){"use strict";a("73d1")},"73d1":function(e,t,a){},ab13:function(e,t,a){var r=a("b622"),s=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(a){try{return t[s]=!1,"/./"[e](t)}catch(r){}}return!1}},ad6d:function(e,t,a){"use strict";var r=a("825a");e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},c8d2:function(e,t,a){var r=a("d039"),s=a("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!s[e]()||o[e]()!=o||s[e].name!==e}))}},caad:function(e,t,a){"use strict";var r=a("23e7"),s=a("4d64").includes,o=a("44d2"),n=a("ae40"),l=n("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!l},{includes:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")}}]);
//# sourceMappingURL=chunk-cdcafb2a.b634e324.js.map