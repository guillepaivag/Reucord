(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-00bb09db"],{2532:function(t,e,a){"use strict";var o=a("23e7"),s=a("5a34"),r=a("1d80"),i=a("ab13");o({target:"String",proto:!0,forced:!i("includes")},{includes:function(t){return!!~String(r(this)).indexOf(s(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,a){var o=a("861d"),s=a("c6b6"),r=a("b622"),i=r("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==s(t))}},"5a34":function(t,e,a){var o=a("44e7");t.exports=function(t){if(o(t))throw TypeError("The method doesn't accept regular expressions");return t}},ab13:function(t,e,a){var o=a("b622"),s=o("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(a){try{return e[s]=!1,"/./"[t](e)}catch(o){}}return!1}},caad:function(t,e,a){"use strict";var o=a("23e7"),s=a("4d64").includes,r=a("44d2"),i=a("ae40"),n=i("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!n},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")},e464:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.system.loading?a("div",[a("loading")],1):t.system.error?a("div",[a("error")],1):a("div",{staticClass:"container"},[a("hr",{staticClass:"mt-4"}),a("div",{staticClass:"row mb-3"},[a("div",{staticClass:"col-md-8"},[a("label",{staticClass:"mt-2",attrs:{for:""}},[t._v("Local:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eq23kv.LOCAL,expression:"eq23kv.LOCAL"}],staticClass:"form-control",attrs:{type:"text",name:"local",placeholder:"Local"},domProps:{value:t.eq23kv.LOCAL},on:{keyup:function(e){return t.filtro()},input:function(e){e.target.composing||t.$set(t.eq23kv,"LOCAL",e.target.value)}}}),a("label",{staticClass:"mt-3",attrs:{for:""}},[t._v("Circuito:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eq23kv.CIRCUITO,expression:"eq23kv.CIRCUITO"}],staticClass:"form-control",attrs:{type:"text",name:"circuito",placeholder:"Circuito"},domProps:{value:t.eq23kv.CIRCUITO},on:{keyup:function(e){return t.filtro()},input:function(e){e.target.composing||t.$set(t.eq23kv,"CIRCUITO",e.target.value)}}}),a("label",{staticClass:"mt-3",attrs:{for:""}},[t._v("Equipo:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eq23kv.EQUIPO,expression:"eq23kv.EQUIPO"}],staticClass:"form-control",attrs:{type:"text",name:"equipo",placeholder:"Equipo"},domProps:{value:t.eq23kv.EQUIPO},on:{keyup:function(e){return t.filtro()},input:function(e){e.target.composing||t.$set(t.eq23kv,"EQUIPO",e.target.value)}}}),a("label",{staticClass:"mt-3",attrs:{for:""}},[t._v("Barra:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eq23kv.BARRA,expression:"eq23kv.BARRA"}],staticClass:"form-control",attrs:{type:"text",name:"barra",placeholder:"Barra"},domProps:{value:t.eq23kv.BARRA},on:{keyup:function(e){return t.filtro()},input:function(e){e.target.composing||t.$set(t.eq23kv,"BARRA",e.target.value)}}}),a("hr"),a("label",{attrs:{for:""}},[t._v("La busqueda se hace mientras escribe.")])]),a("div",{staticClass:"col-md-4"},[a("router-link",{staticClass:"btn btn-outline-primary btn-block mt-3",attrs:{to:"/equipos/agregarEquipo"}},[t._v("Agregar un equipo")]),a("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-backdrop",modifiers:{"sidebar-backdrop":!0}}],staticClass:"btn btn-outline-primary btn-block mt-3"},[t._v("Ver herramientas")]),a("b-button",{staticClass:"btn btn-outline-primary btn-block mt-3",attrs:{to:"/equipos/analisis"}},[t._v("Analisis de equipos")]),a("b-sidebar",{attrs:{id:"sidebar-backdrop",title:"EQ23KV",backdrop:"",shadow:""}},[a("div",{staticClass:"container"},[a("hr"),a("label",{attrs:{for:""}},[t._v("Vista de datos:")]),a("b-button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.mostrarTodo}},[t._v("Mostrar todo")]),a("hr"),a("label",{attrs:{for:"idNombreExcelEquipo"}},[t._v("Generador de excel:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.nombreExcel,expression:"nombreExcel"}],staticClass:"form-control mb-3",attrs:{type:"text",id:"idNombreExcelEquipo",placeholder:"Nombre de excel"},domProps:{value:t.nombreExcel},on:{input:function(e){e.target.composing||(t.nombreExcel=e.target.value)}}}),a("b-button",{staticClass:"btn btn-outline-primary btn-block",on:{click:t.exportExcel}},[t._v("Generar excel")]),t.nombreExcel?t._e():a("label",{staticClass:"mt-3",attrs:{for:""}},[t._v("Agregar un nombre para exportar el excel.")]),a("hr")],1)])],1)]),a("hr"),a("div",{staticClass:"mt-3"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("label",{staticClass:"mr-1",attrs:{for:"nroDatosPorPag"}},[t._v("Número por paginas: ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.perPage,expression:"perPage"}],staticClass:"form-control",attrs:{type:"number",id:"nroDatosPorPag",placeholder:"Número por paginas"},domProps:{value:t.perPage},on:{input:function(e){e.target.composing||(t.perPage=e.target.value)}}})]),a("div",{staticClass:"col-md-7"},[a("b-pagination",{attrs:{"total-rows":t.totalRow,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),1==t.totalRow?a("div",{staticClass:"col-md-2"},[t._v("Hay "+t._s(t.totalRow)+" dato")]):a("div",{staticClass:"col-md-2"},[t._v("Hay "+t._s(t.totalRow)+" datos")])]),a("table",{staticClass:"table table-hover table-responsive-xl mt-3"},[t._m(0),a("tbody",t._l(t.datos,(function(e,o){return a("tr",{key:o,staticClass:"table-secondary"},[a("th",{attrs:{scope:"row"}},[t._v(t._s(o+t.getStart()+1))]),a("th",[t._v(t._s(e.LOCAL))]),a("td",[t._v(t._s(e.CIRCUITO))]),a("td",[t._v(t._s(e.EQUIPO))]),a("td",[t._v(t._s(e.BARRA))]),a("td",[a("button",{staticClass:"btn btn-outline-info btn-block",attrs:{type:"button"},on:{click:function(e){return t.cargarDatos(t.datos[o],o)}}},[t._v("Cargar datos")]),a("button",{staticClass:"btn btn-outline-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.showModalVista(t.datos[o],o)}}},[t._v("Ver datos")]),a("button",{staticClass:"btn btn-outline-success btn-block",on:{click:function(a){return t.goToEditEq23kv(e)}}},[t._v("Editar")]),a("button",{staticClass:"btn btn-outline-danger btn-block",attrs:{type:"button",id:"show-btn"},on:{click:function(e){return t.showModal(t.datos[o],o)}}},[t._v("Eliminar")])])])})),0)]),a("b-modal",{ref:"equipoVista",attrs:{"hide-footer":"",title:"Validación"}},[a("div",{staticClass:"d-block text-center"},[a("h3",[t._v("Equipo")])]),a("hr"),a("ul",[a("li",[t._v(" Local: "+t._s(t.eq23kvAux.LOCAL)+" ")]),a("li",[t._v(" Circuito: "+t._s(t.eq23kvAux.CIRCUITO)+" ")]),a("li",[t._v(" Equipo: "+t._s(t.eq23kvAux.EQUIPO)+" ")]),a("li",[t._v(" Barra: "+t._s(t.eq23kvAux.BARRA)+" ")])]),a("hr"),a("div",{staticClass:"container"},[a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-success",block:""},on:{click:t.hideModalVista}},[t._v("Volver")])],1)]),a("b-modal",{ref:"my-modal",attrs:{"hide-footer":"",title:"Validación"}},[a("div",{staticClass:"d-block text-center"},[a("p",{staticClass:"h2"},[t._v(t._s(t.eq23kvAux.LOCAL))])]),a("hr"),t._v(" Escriba el local para eliminar: "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eq23kvAux.confirmacionEliminacion,expression:"eq23kvAux.confirmacionEliminacion"}],staticClass:"form-control mt-2",attrs:{type:"text",placeholder:"LOCAL"},domProps:{value:t.eq23kvAux.confirmacionEliminacion},on:{input:function(e){e.target.composing||t.$set(t.eq23kvAux,"confirmacionEliminacion",e.target.value)}}}),a("hr"),a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[t.validacionEliminacion?a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-primary",block:""},on:{click:function(e){return t.eliminarEquipo()}}},[t._v("Eliminar")]):t._e()],1),a("div",{staticClass:"col-md-6"},[a("b-button",{staticClass:"mt-2",attrs:{variant:"outline-danger",block:""},on:{click:t.hideModal}},[t._v("Cancelar")])],1)])])]),a("b-pagination",{staticStyle:{float:"right"},attrs:{"total-rows":t.totalRow,"per-page":t.perPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("N°")]),a("th",{attrs:{scope:"col"}},[t._v("LOCAL")]),a("th",{attrs:{scope:"col"}},[t._v("CIRCUITO")]),a("th",{attrs:{scope:"col"}},[t._v("EQUIPO")]),a("th",{attrs:{scope:"col"}},[t._v("BARRA")]),a("th",{attrs:{scope:"col"}},[t._v("ACCIONES")])])])}],r=(a("99af"),a("caad"),a("2532"),a("96cf"),a("1da1")),i=a("3a5e"),n=a("3fb9"),c=a("1146"),l=a.n(c),u={name:"equipos",data:function(){return{system:{loading:!0,error:!1},tipoOrd:"Ascendente",nombreExcel:"",eq23kv:{LOCAL:"",CIRCUITO:"",EQUIPO:"",BARRA:""},eq23kvAux:{LOCAL:"",CIRCUITO:"",EQUIPO:"",BARRA:"",confirmacionEliminacion:"",indexEquipo:0},datos:[],datosOp:[],datosTotal:[],currentPage:1,perPage:10}},components:{loading:i["a"],error:n["a"]},methods:{getStart:function(){return 1==this.currentPage?0:this.perPage*(this.currentPage-1)},getEnd:function(){return this.perPage*this.currentPage-1},cargarDatos:function(t,e){this.eq23kv={LOCAL:t.LOCAL,CIRCUITO:t.CIRCUITO,EQUIPO:t.EQUIPO,BARRA:t.BARRA}},actualizarDatos:function(){this.datos=[];for(var t=this.getStart();t<=this.getEnd()&&t<this.datosOp.length;t++)this.datos.push(this.datosOp[t])},mostrarTodo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.post("/eq23kv");case 3:a=e.sent,a.data.codigo.includes("Error")?(console.log(a.data.mensaje),console.log(a.data.respuesta),t.system.error=!0):(t.datosTotal=a.data.respuesta,t.datosOp=t.datosTotal),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},filtro:function(){this.datosOp=[];var t=[];if(this.eq23kv.LOCAL||this.eq23kv.CIRCUITO||this.eq23kv.EQUIPO||this.eq23kv.BARRA)for(var e=0;e<this.datosTotal.length;e++){var a=this.datosTotal[e];t=[],this.eq23kv.LOCAL?a.LOCAL&&(a.LOCAL.includes(this.eq23kv.LOCAL)?t.push(1):t.push(-1)):t.push(0),this.eq23kv.CIRCUITO?a.CIRCUITO&&(a.CIRCUITO.includes(this.eq23kv.CIRCUITO)?t.push(1):t.push(-1)):t.push(0),this.eq23kv.EQUIPO?a.EQUIPO&&(a.EQUIPO.includes(this.eq23kv.EQUIPO)?t.push(1):t.push(-1)):t.push(0),this.eq23kv.BARRA?a.BARRA&&(a.BARRA.includes(this.eq23kv.BARRA)?t.push(1):t.push(-1)):t.push(0),-1!=t[0]&&-1!=t[1]&&-1!=t[2]&&-1!=t[3]&&(1!=t[0]&&1!=t[1]&&1!=t[2]&&1!=t[3]||this.datosOp.push(a))}else this.mostrarTodo()},showModal:function(t,e){this.indexEquipo=e,this.eq23kvAux.confirmacionEliminacion="",this.eq23kvAux.LOCAL=t.LOCAL,this.eq23kvAux.CIRCUITO=t.CIRCUITO,this.eq23kvAux.EQUIPO=t.EQUIPO,this.eq23kvAux.BARRA=t.BARRA,this.$refs["my-modal"].show()},hideModal:function(){this.$refs["my-modal"].hide()},showModalVista:function(t,e){this.indexEquipo=e,this.eq23kvAux.LOCAL=t.LOCAL,this.eq23kvAux.CIRCUITO=t.CIRCUITO,this.eq23kvAux.EQUIPO=t.EQUIPO,this.eq23kvAux.BARRA=t.BARRA,this.$refs["equipoVista"].show()},hideModalVista:function(){this.$refs["equipoVista"].hide()},eliminarEquipo:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.delete("/eq23kvDelete/".concat(t.eq23kvAux.LOCAL,"/").concat(t.eq23kvAux.CIRCUITO,"/").concat(t.eq23kvAux.EQUIPO));case 3:a=e.sent,a.data.codigo.includes("Error")?console.log("Problemas al eliminar"):(console.log(a),t.hideModal(),t.mostrarTodo(),t.actualizarDatos()),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},goToEditEq23kv:function(t){this.$router.push({name:"Equipos.Edit",params:{local:t.LOCAL,circuito:t.CIRCUITO,equipo:t.EQUIPO}})},exportExcel:function(){if(this.nombreExcel){var t=l.a.utils.json_to_sheet(this.datosOp),e=l.a.utils.book_new(),a=this.nombreExcel;l.a.utils.book_append_sheet(e,t,a),l.a.writeFile(e,"".concat(a,".xlsx"))}},sort:function(t){},conditionUpward:function(t,e,a,o){}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.axios.post("/eq23kv");case 3:a=e.sent,a.data.codigo.includes("Error")?(console.log(a.data.mensaje),console.log(a.data.respuesta),t.system.error=!0):(t.datosTotal=a.data.respuesta,t.datosOp=t.datosTotal),e.next=11;break;case 7:e.prev=7,e.t0=e["catch"](0),t.system.error=!0,console.log(e.t0);case 11:return e.prev=11,t.system.loading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,7,11,14]])})))()},beforeUpdate:function(){this.actualizarDatos()},computed:{totalRow:function(){return this.datosOp.length},validacionEliminacion:function(){return this.eq23kvAux.confirmacionEliminacion==this.eq23kvAux.LOCAL}}},d=u,v=a("2877"),p=Object(v["a"])(d,o,s,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-00bb09db.b6e1d950.js.map